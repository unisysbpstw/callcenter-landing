import{g as F}from"./D3jsOSc0.js";import{r as X,e as D,h as U}from"./CRRs7DBr.js";/*!
 * ScrollToPlugin 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var c,W,h,p,d,M,m,b,R=function(){return typeof window<"u"},B=function(){return c||R()&&(c=window.gsap)&&c.registerPlugin&&c},G=function(e){return typeof e=="string"},C=function(e){return typeof e=="function"},k=function(e,n){var t=n==="x"?"Width":"Height",i="scroll"+t,r="client"+t;return e===h||e===p||e===d?Math.max(p[i],d[i])-(h["inner"+t]||p[r]||d[r]):e[i]-e["offset"+t]},E=function(e,n){var t="scroll"+(n==="x"?"Left":"Top");return e===h&&(e.pageXOffset!=null?t="page"+n.toUpperCase()+"Offset":e=p[t]!=null?p:d),function(){return e[t]}},V=function(e,n,t,i){if(C(e)&&(e=e(n,t,i)),typeof e!="object")return G(e)&&e!=="max"&&e.charAt(1)!=="="?{x:e,y:e}:{y:e};if(e.nodeType)return{y:e,x:e};var r={},o;for(o in e)r[o]=o!=="onAutoKill"&&C(e[o])?e[o](n,t,i):e[o];return r},I=function(e,n){if(e=M(e)[0],!e||!e.getBoundingClientRect)return console.warn("scrollTo target doesn't exist. Using 0")||{x:0,y:0};var t=e.getBoundingClientRect(),i=!n||n===h||n===d,r=i?{top:p.clientTop-(h.pageYOffset||p.scrollTop||d.scrollTop||0),left:p.clientLeft-(h.pageXOffset||p.scrollLeft||d.scrollLeft||0)}:n.getBoundingClientRect(),o={x:t.left-r.left,y:t.top-r.top};return!i&&n&&(o.x+=E(n,"x")(),o.y+=E(n,"y")()),o},K=function(e,n,t,i,r){return!isNaN(e)&&typeof e!="object"?parseFloat(e)-r:G(e)&&e.charAt(1)==="="?parseFloat(e.substr(2))*(e.charAt(0)==="-"?-1:1)+i-r:e==="max"?k(n,t)-r:Math.min(k(n,t),I(e,n)[t]-r)},A=function(){c=B(),R()&&c&&typeof document<"u"&&document.body&&(h=window,d=document.body,p=document.documentElement,M=c.utils.toArray,c.config({autoKillThreshold:7}),m=c.config(),W=1)},a={version:"3.13.0",name:"scrollTo",rawVars:1,register:function(e){c=e,A()},init:function(e,n,t,i,r){W||A();var o=this,y=c.getProperty(e,"scrollSnapType");o.isWin=e===h,o.target=e,o.tween=t,n=V(n,i,e,r),o.vars=n,o.autoKill=!!("autoKill"in n?n:m).autoKill,o.getX=E(e,"x"),o.getY=E(e,"y"),o.x=o.xPrev=o.getX(),o.y=o.yPrev=o.getY(),b||(b=c.core.globals().ScrollTrigger),c.getProperty(e,"scrollBehavior")==="smooth"&&c.set(e,{scrollBehavior:"auto"}),y&&y!=="none"&&(o.snap=1,o.snapInline=e.style.scrollSnapType,e.style.scrollSnapType="none"),n.x!=null?(o.add(o,"x",o.x,K(n.x,e,"x",o.x,n.offsetX||0),i,r),o._props.push("scrollTo_x")):o.skipX=1,n.y!=null?(o.add(o,"y",o.y,K(n.y,e,"y",o.y,n.offsetY||0),i,r),o._props.push("scrollTo_y")):o.skipY=1},render:function(e,n){for(var t=n._pt,i=n.target,r=n.tween,o=n.autoKill,y=n.xPrev,S=n.yPrev,v=n.isWin,w=n.snap,L=n.snapInline,f,u,T,_,g;t;)t.r(e,t.d),t=t._next;f=v||!n.skipX?n.getX():y,u=v||!n.skipY?n.getY():S,T=u-S,_=f-y,g=m.autoKillThreshold,n.x<0&&(n.x=0),n.y<0&&(n.y=0),o&&(!n.skipX&&(_>g||_<-g)&&f<k(i,"x")&&(n.skipX=1),!n.skipY&&(T>g||T<-g)&&u<k(i,"y")&&(n.skipY=1),n.skipX&&n.skipY&&(r.kill(),n.vars.onAutoKill&&n.vars.onAutoKill.apply(r,n.vars.onAutoKillParams||[]))),v?h.scrollTo(n.skipX?f:n.x,n.skipY?u:n.y):(n.skipY||(i.scrollTop=n.y),n.skipX||(i.scrollLeft=n.x)),w&&(e===1||e===0)&&(u=i.scrollTop,f=i.scrollLeft,L?i.style.scrollSnapType=L:i.style.removeProperty("scroll-snap-type"),i.scrollTop=u+1,i.scrollLeft=f+1,i.scrollTop=u,i.scrollLeft=f),n.xPrev=n.x,n.yPrev=n.y,b&&b.update()},kill:function(e){var n=e==="scrollTo",t=this._props.indexOf(e);return(n||e==="scrollTo_x")&&(this.skipX=1),(n||e==="scrollTo_y")&&(this.skipY=1),t>-1&&this._props.splice(t,1),!this._props.length}};a.max=k;a.getOffset=I;a.buildGetter=E;a.config=function(l){m||A()||(m=c.config());for(var e in l)m[e]=l[e]};B()&&c.registerPlugin(a);F.registerPlugin(a);function $(l={headerOffset:90}){const e=X(0),n=X(0);let t=!1,i=0;const r=50,o=X(!1),y=()=>{o.value=window.innerWidth<=768},S=()=>{setTimeout(()=>{const s=document.querySelectorAll(".fullpage-container .section").length;n.value=s+1},0)},v=()=>{var O;if(t||o.value)return;const s=document.querySelectorAll(".fullpage-container .section"),x=document.querySelector("footer"),Y=window.scrollY+window.innerHeight/2;if(x&&Y>=x.offsetTop-l.headerOffset){e.value=n.value-1;return}let P=0;s.forEach((q,z)=>{Y>=q.offsetTop-l.headerOffset&&(P=z)}),e.value!==P&&(e.value=P,(O=l.onSectionChange)==null||O.call(l,P))},w=s=>{t||o.value||(t=!0,F.to(window,{duration:1,scrollTo:{y:s===n.value-1?"footer":`.section-${s+1}`,offsetY:l.headerOffset},ease:"power2.inOut",onComplete:()=>{var x;t=!1,(x=l.onSectionChange)==null||x.call(l,s)}}))},L=s=>{o.value||(s.preventDefault(),!t&&(s.deltaY>0&&e.value<n.value-1?(e.value++,w(e.value)):s.deltaY<0&&e.value>0&&(e.value--,w(e.value))))},f=s=>{o.value||(i=s.touches[0].clientY)},u=s=>{if(t||o.value)return;const Y=s.changedTouches[0].clientY-i;Y<-50&&e.value<n.value-1?(e.value++,w(e.value)):Y>r&&e.value>0&&(e.value--,w(e.value))},T=()=>{window.addEventListener("wheel",L,{passive:!1}),window.addEventListener("touchstart",f),window.addEventListener("touchend",u),window.addEventListener("scroll",v)},_=()=>{window.removeEventListener("wheel",L),window.removeEventListener("touchstart",f),window.removeEventListener("touchend",u),window.removeEventListener("scroll",v)},g=()=>{const s=o.value;y(),s!==o.value&&(o.value?_():(S(),T()))};return D(()=>{y(),o.value||(S(),T()),window.addEventListener("resize",g)}),U(()=>{_(),window.removeEventListener("resize",g)}),{currentSection:e,totalSections:n,scrollToSection:w,isMobile:o}}export{$ as u};
